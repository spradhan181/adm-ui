{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/prem/Desktop/work/ProjectADM/Front-End/adm-ui/src/login/forgotpassword/ForgotPassword.js\";\nimport { Component } from 'react';\nimport { InputText } from 'primereact/inputtext';\nimport axios from \"../../axios-adm\";\nimport { Button } from 'primereact/button';\nimport { ProgressSpinner } from 'primereact/progressspinner';\nimport \"./forgotpassword.css\";\nimport brandlogo from \"../../resources/monkeyMart-black.png\";\n\nclass ForgotPassword extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      recoverRequest: {\n        email: \"\",\n        password: \"\",\n        confirmPassword: \"\",\n        otp: \"\"\n      },\n      displayError: false,\n      displayResult: false,\n      showPassword: false,\n      showSuccessMessage: false,\n      message: \"\",\n      actionInProgress: false\n    };\n\n    this.changeValueEmail = event => {\n      let data = { ...this.state.recoverRequest\n      };\n      data.email = event.target.value;\n      this.setState({\n        recoverRequest: data\n      });\n      this.setState({\n        displayError: false\n      });\n    };\n\n    this.changeValueOtp = event => {\n      let data = { ...this.state.recoverRequest\n      };\n      data.otp = event.target.value;\n      this.setState({\n        recoverRequest: data\n      });\n    };\n\n    this.verifyUserName = event => {\n      event.preventDefault();\n      this.setState({\n        showPassword: false\n      });\n\n      if (this.state.recoverRequest.email === \"\") {\n        this.setState({\n          displayError: true\n        });\n        this.setState({\n          message: \"Please username to proceed\"\n        });\n      } else {\n        this.setState({\n          actionInProgress: true\n        });\n        axios.post('http://localhost:8080/recover', this.state.recoverRequest).then(response => {\n          console.log(response);\n\n          if (response.data.result === \"Success\") {\n            //this.setState({displayResult : true})\n            this.sendEmail();\n          } else if (response.data.result === \"Invalid\") {\n            this.setState({\n              displayError: true\n            });\n            this.setState({\n              message: \"Username not found !!\"\n            });\n            this.setState({\n              displayResult: false,\n              actionInProgress: false\n            });\n          }\n        }).catch(error => {\n          console.log(error);\n          this.setState({\n            message: error,\n            actionInProgress: false\n          });\n        });\n      }\n    };\n\n    this.sendEmail = () => {\n      axios.post('http://localhost:8080/sendemail', {\n        toEmailAddress: this.state.recoverRequest.email,\n        fromEmailAddress: \"monkeymart@gmail.com\",\n        subject: \"One Time Password\"\n      }).then(response => {\n        console.log(response);\n\n        if (response.data === \"Success\") {\n          this.setState({\n            displayResult: true\n          });\n          this.setState({\n            actionInProgress: false\n          });\n        } else if (response.data.result === \"Failure\") {\n          this.setState({\n            displayError: true\n          });\n          this.setState({\n            message: \"Username not found !!\"\n          });\n          this.setState({\n            displayResult: false,\n            actionInProgress: false\n          });\n        }\n      }).catch(error => {\n        console.log(error);\n        this.setState({\n          message: error,\n          actionInProgress: false\n        });\n      });\n    };\n\n    this.updatePassword = () => {\n      this.setState({\n        displayResult: false,\n        showSuccessMessage: false,\n        displayError: false\n      });\n\n      if (this.state.recoverRequest.password === \"\" || this.state.recoverRequest.confirmPassword === \"\") {\n        this.setState({\n          displayError: true,\n          message: \"Password/ConfirmPassword required\"\n        });\n      } else if (this.state.recoverRequest.password != this.state.recoverRequest.confirmPassword) {\n        this.setState({\n          displayError: true,\n          message: \"Password and ConfirmPassword dosenot match\"\n        });\n      } else {\n        axios.post('http://localhost:8080/updatepassword', this.state.recoverRequest).then(response => {\n          console.log(response);\n\n          if (response.data.result === \"Success\") {\n            this.setState({\n              showSuccessMessage: true\n            });\n            this.setState({\n              message: \"Password updated successfully. Please use new password to login.\"\n            });\n          } else if (response.data.result === \"Invalid\") {\n            this.setState({\n              displayError: true\n            });\n            this.setState({\n              message: \"Username not found !!\"\n            });\n          }\n        }).catch(error => {\n          console.log(error);\n          this.setState({\n            message: error\n          });\n        });\n      }\n    };\n\n    this.clear = () => {\n      this.setState({\n        displayResult: false,\n        recoverRequest: {}\n      });\n      let clearedRecoveryData = { ...this.state.recoverRequest\n      };\n      clearedRecoveryData.email = \"\";\n      clearedRecoveryData.otp = \"\";\n      this.setState({\n        recoverRequest: clearedRecoveryData\n      });\n      this.setState({\n        displayError: false\n      });\n      this.setState({\n        showPassword: false,\n        showSuccessMessage: false\n      });\n    };\n\n    this.verifyOtp = () => {\n      if (this.state.recoverRequest.otp === \"\") {\n        this.setState({\n          displayError: true,\n          message: \"Provide OTP to proceed\"\n        });\n      } else {\n        this.setState({\n          actionInProgress: true\n        });\n        axios.post('http://localhost:8080/recover', this.state.recoverRequest).then(response => {\n          console.log(response);\n\n          if (response.data.result === \"Success\") {\n            this.setState({\n              showPassword: true,\n              displayResult: false,\n              displayError: false,\n              actionInProgress: false\n            });\n          } else if (response.data.result === \"Invalid\") {\n            this.setState({\n              displayError: true,\n              message: \"Invalid OTP\",\n              actionInProgress: false\n            });\n          }\n        }).catch(error => {\n          console.log(error);\n          this.setState({\n            message: error,\n            actionInProgress: false\n          });\n        });\n      }\n    };\n\n    this.changeNewPassword = event => {\n      let data = { ...this.state.recoverRequest\n      };\n      data.password = event.target.value;\n      this.setState({\n        recoverRequest: data\n      });\n    };\n\n    this.changeConfirmPassword = event => {\n      let data = { ...this.state.recoverRequest\n      };\n      data.confirmPassword = event.target.value;\n      this.setState({\n        recoverRequest: data\n      });\n    };\n\n    this.redirectToLogin = () => {\n      this.props.history.push(\"/\");\n    };\n  }\n\n  render() {\n    /*#__PURE__*/\n    _jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"hello\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 12\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 9\n    }, this);\n\n    let renderView = /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        paddingTop: \"10px\",\n        paddingBottom: \"10px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(InputText, {\n        style: {\n          border: \"1px solid black\",\n          width: \"300px\"\n        },\n        value: this.state.recoverRequest.email,\n        placeholder: \"Enter email address\",\n        onChange: this.changeValueEmail\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          paddingLeft: \"10px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          style: {\n            color: \"black\",\n            height: \"25px\",\n            fontSize: \"0.85rem\"\n          },\n          label: \"Search\",\n          className: \"p-button-outlined\",\n          disabled: this.state.showSuccessMessage,\n          onClick: this.verifyUserName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          paddingLeft: \"10px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          style: {\n            color: \"black\",\n            height: \"25px\",\n            backgroundColor: \"white\",\n            fontSize: \"0.85rem\"\n          },\n          label: \"Clear\",\n          className: \"p-button-outlined\",\n          onClick: this.clear\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 9\n    }, this);\n\n    if (this.state.showPassword && !this.state.showSuccessMessage) {\n      renderView = /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Change Your Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            paddingTop: \"10px\",\n            paddingBottom: \"10px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(InputText, {\n            type: \"password\",\n            value: this.state.password,\n            placeholder: \"New password\",\n            onChange: this.changeNewPassword\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            paddingTop: \"10px\",\n            paddingBottom: \"10px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(InputText, {\n            type: \"password\",\n            value: this.state.confirmPassword,\n            placeholder: \"Confirm password\",\n            onChange: this.changeConfirmPassword\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            paddingTop: \"10px\",\n            paddingBottom: \"10px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            label: \"Update\",\n            className: \"p-button-outlined\",\n            onClick: this.updatePassword\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 27\n      }, this);\n    }\n\n    let showResult = null;\n\n    if (this.state.actionInProgress) {\n      showResult = /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          paddingTop: \"20px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(ProgressSpinner, {\n          style: {\n            width: '50px',\n            height: '50px'\n          },\n          strokeWidth: \"8\",\n          fill: \"#EEEEEE\",\n          animationDuration: \".5s\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 13\n      }, this);\n    } else if (this.state.displayResult) {\n      showResult = /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          paddingTop: \"20px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"We have sent an OTP to your registered emial address. \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              paddingTop: \"10px\",\n              paddingBottom: \"10px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: /*#__PURE__*/_jsxDEV(InputText, {\n                type: \"text\",\n                value: this.state.otp,\n                placeholder: \"Enter OTP received on mobile or email\",\n                onChange: this.changeValueOtp\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                paddingLeft: \"10px\"\n              },\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                label: \"Verify OTP\",\n                className: \"p-button-outlined\",\n                onClick: this.verifyOtp\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 34\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 26\n      }, this);\n    }\n\n    let errormessage = null;\n\n    if (this.state.displayError) {\n      errormessage = /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          paddingTop: \"20px\",\n          color: \"red\"\n        },\n        children: this.state.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 28\n      }, this);\n    }\n\n    let showSuccessMessage = null;\n\n    if (this.state.showSuccessMessage && !this.state.displayError) {\n      showSuccessMessage = /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          paddingTop: \"20px\",\n          paddingBottom: \"20px\",\n          color: \"green\"\n        },\n        children: [this.state.message, /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: \"black\"\n          },\n          children: [\"Click here to go back to \", /*#__PURE__*/_jsxDEV(\"b\", {\n            style: {\n              color: \"blue\"\n            },\n            onClick: this.redirectToLogin,\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 75\n          }, this), \" page.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 34\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: \"relative\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"nav\", {\n          style: {\n            padding: \"0px\"\n          },\n          className: \"navbar navbar-expand-lg navbar-dark bg-dark\",\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"navbar-brand\",\n            href: \"http://localhost:3000/\",\n            style: {\n              margin: \"0px 5px\"\n            },\n            children: \"MonkeyMart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 18\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"navbar-brand\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 18\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"navbar-nav\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"nav-item\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#contact-page\",\n                className: \"nav-link\",\n                children: \"Contact\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 24\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 24\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"nav-item\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"nav-link\",\n                children: \"Pricing\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 30\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 24\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"nav-item\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"nav-link\",\n                children: \"Download\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 30\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 24\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"first-div\",\n        style: {\n          paddingTop: \"20px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n          style: {\n            fontFamily: \"'Montserrat', sans-serif\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Find Your Account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 69\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 17\n        }, this), renderView, showResult, errormessage, showSuccessMessage]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        style: {\n          height: \"50px\",\n          width: \"50px\"\n        },\n        src: brandlogo,\n        alt: \"brandlogo \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default ForgotPassword;","map":{"version":3,"sources":["/Users/prem/Desktop/work/ProjectADM/Front-End/adm-ui/src/login/forgotpassword/ForgotPassword.js"],"names":["Component","InputText","axios","Button","ProgressSpinner","brandlogo","ForgotPassword","state","recoverRequest","email","password","confirmPassword","otp","displayError","displayResult","showPassword","showSuccessMessage","message","actionInProgress","changeValueEmail","event","data","target","value","setState","changeValueOtp","verifyUserName","preventDefault","post","then","response","console","log","result","sendEmail","catch","error","toEmailAddress","fromEmailAddress","subject","updatePassword","clear","clearedRecoveryData","verifyOtp","changeNewPassword","changeConfirmPassword","redirectToLogin","props","history","push","render","renderView","paddingTop","paddingBottom","border","width","paddingLeft","color","height","fontSize","backgroundColor","showResult","errormessage","position","padding","margin","fontFamily"],"mappings":"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","sourcesContent":["import {Component} from 'react'\nimport { InputText } from 'primereact/inputtext';\nimport axios from \"../../axios-adm\";\nimport { Button } from 'primereact/button';\nimport { ProgressSpinner } from 'primereact/progressspinner';\nimport \"./forgotpassword.css\";\nimport brandlogo from \"../../resources/monkeyMart-black.png\";\n\nclass ForgotPassword extends Component{\n\n    state = {\n        recoverRequest:{\n            email:\"\",\n            password: \"\",\n            confirmPassword: \"\",\n            otp: \"\"\n        },\n        displayError: false,\n        displayResult: false,\n        showPassword: false,\n        showSuccessMessage: false,\n        message: \"\",\n        actionInProgress: false\n    }\n\n    changeValueEmail =(event) =>{\n        let data = {...this.state.recoverRequest};\n        data.email = event.target.value;\n        this.setState({recoverRequest : data})\n        this.setState({displayError : false})\n    }\n    changeValueOtp = (event) =>{\n        let data = {...this.state.recoverRequest};\n        data.otp = event.target.value;\n        this.setState({recoverRequest : data})\n    }\n\n    verifyUserName = (event) =>{\n        event.preventDefault();\n        this.setState({showPassword : false});\n         if(this.state.recoverRequest.email === \"\"){\n            this.setState({displayError : true})\n            this.setState({message : \"Please username to proceed\"})\n         }else{\n                this.setState({actionInProgress : true})\n                axios.post('http://localhost:8080/recover', this.state.recoverRequest)\n                .then(response => {\n                console.log(response);\n                if(response.data.result === \"Success\"){\n                    //this.setState({displayResult : true})\n                    this.sendEmail();\n                } else if(response.data.result === \"Invalid\"){\n                    this.setState({displayError : true})\n                    this.setState({message : \"Username not found !!\"})  \n                    this.setState({displayResult : false, actionInProgress : false})\n                }\n            })\n            .catch( error =>{\n                console.log(error);\n                this.setState({message : error, actionInProgress: false})  \n            })\n         }\n     }\n\n     sendEmail = () =>{\n        axios.post('http://localhost:8080/sendemail', {\n            toEmailAddress : this.state.recoverRequest.email,\n            fromEmailAddress : \"monkeymart@gmail.com\",\n            subject:\"One Time Password\"\n        })\n        .then(response => {\n        console.log(response);\n        if(response.data === \"Success\"){\n            this.setState({displayResult : true})\n            this.setState({actionInProgress : false})\n        } else if(response.data.result === \"Failure\"){\n            this.setState({displayError : true})\n            this.setState({message : \"Username not found !!\"})  \n            this.setState({displayResult : false, actionInProgress: false})\n        }\n    })\n    .catch( error =>{\n        console.log(error);\n        this.setState({message : error, actionInProgress: false})  \n    })\n     }\n\n     updatePassword = () => {\n        this.setState({displayResult : false, showSuccessMessage: false, displayError: false})\n         if(this.state.recoverRequest.password === \"\" || this.state.recoverRequest.confirmPassword === \"\"){\n            this.setState({displayError: true, message : \"Password/ConfirmPassword required\"})\n         } else if(this.state.recoverRequest.password !=  this.state.recoverRequest.confirmPassword){\n            this.setState({displayError: true, message : \"Password and ConfirmPassword dosenot match\"})\n         } else {\n            axios.post('http://localhost:8080/updatepassword', this.state.recoverRequest)\n            .then(response => {\n            console.log(response);\n            if(response.data.result === \"Success\"){\n                this.setState({showSuccessMessage: true})\n                this.setState({message : \"Password updated successfully. Please use new password to login.\"})  \n            } else if(response.data.result === \"Invalid\"){\n                this.setState({displayError : true})\n                this.setState({message : \"Username not found !!\"})  \n            }\n        })\n        .catch( error =>{\n            console.log(error);\n            this.setState({message : error})  \n        })\n         }\n     }\n \n     clear = () =>{\n         this.setState({displayResult : false , recoverRequest : {}})\n         let clearedRecoveryData = {...this.state.recoverRequest};\n         clearedRecoveryData.email= \"\";\n         clearedRecoveryData.otp= \"\";\n         this.setState({recoverRequest : clearedRecoveryData});\n         this.setState({displayError : false})\n         this.setState({showPassword : false, showSuccessMessage : false});\n     }\n\n     verifyOtp = () =>{\n         if(this.state.recoverRequest.otp === \"\"){\n            this.setState({displayError: true, message : \"Provide OTP to proceed\"})\n         }else{\n                    this.setState({actionInProgress : true})\n                    axios.post('http://localhost:8080/recover', this.state.recoverRequest)\n                    .then(response => {\n                    console.log(response);\n                    if(response.data.result === \"Success\"){\n                        this.setState({showPassword : true, displayResult : false , displayError: false, actionInProgress: false});\n                    } else if(response.data.result === \"Invalid\"){\n                        this.setState({displayError: true, message : \"Invalid OTP\", actionInProgress: false})\n                    }\n                })\n                .catch( error =>{\n                    console.log(error);\n                    this.setState({message : error, actionInProgress: false})  \n                })\n         }\n     }\n\n     changeNewPassword = (event) =>{\n        let data = {...this.state.recoverRequest};\n        data.password = event.target.value;\n        this.setState({recoverRequest : data})\n     }\n\n     changeConfirmPassword = (event) =>{\n        let data = {...this.state.recoverRequest};\n        data.confirmPassword = event.target.value;\n        this.setState({recoverRequest : data})\n     }\n\n     redirectToLogin =() =>{\n         this.props.history.push(\"/\");\n     }\n    render(){\n\n        <div>\n           <h1>hello</h1> \n        </div>\n\n        let renderView = \n        <div style={{paddingTop: \"10px\", paddingBottom: \"10px\",}}>\n             <InputText style={{border:\"1px solid black\", width:\"300px\"}} \n                   value={this.state.recoverRequest.email} \n                   placeholder= \"Enter email address\"\n                   onChange={this.changeValueEmail }/>\n    \n            <span style={{paddingLeft : \"10px\"}}>\n                <Button style={{color:\"black\",height:\"25px\",fontSize:\"0.85rem\"}} label=\"Search\" className=\"p-button-outlined\" disabled ={this.state.showSuccessMessage} onClick={this.verifyUserName}/>\n            </span>\n            <span style={{paddingLeft : \"10px\"}}>\n                <Button style={{color:\"black\",height:\"25px\",backgroundColor:\"white\",fontSize:\"0.85rem\"}} label=\"Clear\" className=\"p-button-outlined\" onClick={this.clear}/>\n            </span>\n         </div>;\n\n        if(this.state.showPassword && !this.state.showSuccessMessage ){\n            renderView =  <div>\n                <div>Change Your Password</div>\n                <div style={{paddingTop: \"10px\", paddingBottom: \"10px\"}}>\n                    <InputText \n                        type=\"password\"\n                        value={this.state.password} \n                        placeholder= \"New password\"\n                        onChange={this.changeNewPassword}/>\n                </div>\n                <div style={{paddingTop: \"10px\", paddingBottom: \"10px\"}}>\n                    <InputText \n                        type=\"password\"\n                        value={this.state.confirmPassword} \n                        placeholder= \"Confirm password\"\n                        onChange={this.changeConfirmPassword}/>\n                </div>\n                <div style={{paddingTop: \"10px\", paddingBottom: \"10px\"}}>\n                    <Button label=\"Update\" className=\"p-button-outlined\"  onClick={this.updatePassword}/>\n                </div>\n            </div>\n        } \n\n        let showResult = null;\n        if(this.state.actionInProgress){\n            showResult = \n            <div style={{paddingTop: \"20px\"}}>\n                <ProgressSpinner style={{width: '50px', height: '50px'}} strokeWidth=\"8\" fill=\"#EEEEEE\" animationDuration=\".5s\"/>\n            </div>\n        }\n        else if(this.state.displayResult){\n            showResult = <div style={{paddingTop: \"20px\"}}>\n                <div>\n                    <div>\n                        <span>We have sent an OTP to your registered emial address. </span>\n                    </div>\n                        <div style={{paddingTop: \"10px\", paddingBottom: \"10px\"}}>\n                            <span>\n                                <InputText \n                                    type=\"text\"\n                                    value={this.state.otp} \n                                    placeholder= \"Enter OTP received on mobile or email\"\n                                    onChange={this.changeValueOtp}/>\n                            </span>\n                            <span style={{paddingLeft : \"10px\"}}>\n                                 <Button label=\"Verify OTP\" className=\"p-button-outlined\"  onClick={this.verifyOtp}/>\n                            </span>\n                        </div>\n                        <div>\n                    </div>   \n                </div>\n            </div>\n        }\n        let errormessage= null;\n        if(this.state.displayError){\n            errormessage = <div style={{paddingTop:\"20px\", color: \"red\"}}>{this.state.message}</div>\n        }\n\n        let showSuccessMessage = null;\n        if(this.state.showSuccessMessage && !this.state.displayError){\n            showSuccessMessage = <div style={{paddingTop:\"20px\",paddingBottom: \"20px\", color: \"green\"}}>{this.state.message}\n                <div style= {{color : \"black\"}} >Click here to go back to <b style={{color:\"blue\"}} onClick={this.redirectToLogin}>Login</b> page.</div>\n            </div>\n        }\n        return(\n            <div>\n                <div style={{position: \"relative\"}}>\n                <nav style={{padding:\"0px\"}}className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\n                 <a className=\"navbar-brand\" href=\"http://localhost:3000/\" style={{margin:\"0px 5px\"}}>MonkeyMart</a>\n                \n                 <span className=\"navbar-brand\">\n                 </span>\n                    <ul className=\"navbar-nav\">\n                       <li className=\"nav-item\">\n                       <a href=\"#contact-page\" className=\"nav-link\" >Contact</a>\n                       </li>\n                       <li className=\"nav-item\">\n                             <span className=\"nav-link\" >Pricing</span>\n                       </li>\n                       <li className=\"nav-item\">\n                             <span className=\"nav-link\" >Download</span>\n                       </li>\n                    </ul>\n                 </nav>\n\n                </div>\n                \n                \n                <div className=\"first-div\" style={{paddingTop: \"20px\"}}>\n                <h6 style={{fontFamily:\"'Montserrat', sans-serif\"}}><b>Find Your Account</b></h6>\n                <hr />\n                    {renderView}\n                    {showResult}\n                    {errormessage}\n                    {showSuccessMessage}\n                </div>\n                <hr/>\n                <img style={{height:\"50px\" , width:\"50px\"}} src={brandlogo} alt=\"brandlogo \"/>\n                \n            </div>\n        );\n    }\n}\n\nexport default ForgotPassword;"]},"metadata":{},"sourceType":"module"}